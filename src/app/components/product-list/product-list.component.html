<h2>Featured Products</h2>

<div class="search-box">
  <input
    type="text"
    placeholder="Search products..."
    [(ngModel)]="searchTerm"
    (input)="applySearch()" />
</div>

<div class="categories">
  <button 
    [class.active]="selectedCategory === 'all'"
    (click)="loadAllProducts()">
    All
  </button>

  <button
    *ngFor="let category of categories"
    [class.active]="selectedCategory === category"
    (click)="filterByCategory(category)">
    {{ category | titlecase }}
  </button>
</div>

<p *ngIf="loading">Loading products...</p>

<p *ngIf="!loading && filteredProducts.length === 0" class="empty">
  No products found
</p>

<div class="grid">
  <div class="card" *ngFor="let product of filteredProducts" (click)="openModal(product)">
    <img [src]="product.image" />
    <h3>{{ product.title }}</h3>
    <p>${{ product.price }}</p>
  </div>
</div>

<app-product-modal
  *ngIf="selectedProduct"
  [product]="selectedProduct"
  (close)="closeModal()">
</app-product-modal>
